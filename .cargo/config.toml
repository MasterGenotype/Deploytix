# Build configuration for portable static binary
# Prerequisites:
#   apt install musl-tools          # provides musl-gcc linker
#   rustup target add x86_64-unknown-linux-musl
#
# Build portable CLI:
#   cargo portable          (alias below)
#   make portable           (via Makefile)

[target.x86_64-unknown-linux-musl]
linker = "musl-gcc"
rustflags = ["-C", "target-feature=+crt-static"]

[build]
# Uncomment to make musl the default target
# target = "x86_64-unknown-linux-musl"

[alias]
# Builds the CLI binary only; GUI requires dynamic system libs (X11/Wayland)
portable = "build --release --target x86_64-unknown-linux-musl --bin deploytix"
